function a0_0x3561(){var _0x244eee=['4491710AEcjGV','9ZTgULM','deviceStatus','config','641900pSGGvZ','cwd','Code:\x20','Device\x20status','SCRETKEY','round','150NwDCHK','path','\x20Message:\x20','reject','OUTPUT','getOwnPropertyNames','floor','appendFileSync','get','\x20VnPayStatus:\x20','dayjs','Status:\x20','/device/login','default','104EcuXHN','use','vnpayStatus','EAI_AGAIN','data','response','INACTIVE','/device/ping','val=>>>>>>>>>>>>>>>>>>>','1883620MBHDby','Id:\x20','\x20Amount:\x20','interceptors','statusCode','HIGH','54948rGHUgW','message','msleep','REQUEST_TIMEOUT','code','open','format','amount','axios','exports','1fRLUKM','/device/transaction/claim','LOW','DD-MM-YYYY\x20HH:mm:ss','TIMEOUT_TO_DELAY_WHEN_INACTIVE','INPUT','node-cron','schedule','ENDPOINT','vnPayStatus','TIMEOUT_TO_DELAY_WHEN_ERROR','NO_INTERNET','mode','logs/','Bearer\x20','499373PuoUbf','1397QGowFJ','*/5\x20*\x20*\x20*\x20*\x20*','DDMMYYYY','post','/device/waiting-trans','log','request','.log','now','30670pbgHRK','ERROR','status','env','612624zJqJQD','rpio','token'];a0_0x3561=function(){return _0x244eee;};return a0_0x3561();}function a0_0x59f8(_0x52cc86,_0x6660cc){var _0x356124=a0_0x3561();return a0_0x59f8=function(_0x59f877,_0x5d9e80){_0x59f877=_0x59f877-0x1d9;var _0x1ec595=_0x356124[_0x59f877];return _0x1ec595;},a0_0x59f8(_0x52cc86,_0x6660cc);}var a0_0x1ae557=a0_0x59f8;(function(_0x4304dd,_0xf4e71c){var _0xc8cb3d=a0_0x59f8,_0x59d916=_0x4304dd();while(!![]){try{var _0x17d611=parseInt(_0xc8cb3d(0x202))/0x1*(-parseInt(_0xc8cb3d(0x1f2))/0x2)+-parseInt(_0xc8cb3d(0x21f))/0x3+-parseInt(_0xc8cb3d(0x226))/0x4+-parseInt(_0xc8cb3d(0x21b))/0x5*(parseInt(_0xc8cb3d(0x1db))/0x6)+-parseInt(_0xc8cb3d(0x211))/0x7*(-parseInt(_0xc8cb3d(0x1e9))/0x8)+parseInt(_0xc8cb3d(0x223))/0x9*(parseInt(_0xc8cb3d(0x222))/0xa)+parseInt(_0xc8cb3d(0x212))/0xb*(parseInt(_0xc8cb3d(0x1f8))/0xc);if(_0x17d611===_0xf4e71c)break;else _0x59d916['push'](_0x59d916['shift']());}catch(_0x459cca){_0x59d916['push'](_0x59d916['shift']());}}}(a0_0x3561,0x79a5c));var __getOwnPropNames=Object[a0_0x1ae557(0x1e0)],__commonJS=(_0x6ab0ab,_0x25b3bf)=>function _0x137703(){var _0x582f81=a0_0x1ae557;return _0x25b3bf||(0x0,_0x6ab0ab[__getOwnPropNames(_0x6ab0ab)[0x0]])((_0x25b3bf={'exports':{}})[_0x582f81(0x201)],_0x25b3bf),_0x25b3bf[_0x582f81(0x201)];},require_utils=__commonJS({'utils.js'(_0x525846,_0x140212){var _0x2eb569=a0_0x1ae557,_0x3ded75=require('fs'),{join:_0x55486d}=require(_0x2eb569(0x1dc)),_0x43022c=require(_0x2eb569(0x1e5)),_0x1d833c=(_0x4c1a00=0x3e8)=>{return new Promise(_0x1d9250=>{setTimeout(()=>{_0x1d9250({});},_0x4c1a00);});},_0x40ce2b=()=>{var _0x37d677=_0x2eb569;return Math[_0x37d677(0x1da)](Date[_0x37d677(0x21a)]()/0x3e8);},_0x1c7ca0=_0x2925c6=>{var _0xc400a5=_0x2eb569;return Math[_0xc400a5(0x1e1)](_0x2925c6/0x3e8);},_0x324d8b=_0x51e29d=>{var _0x5bb85e=_0x2eb569;const _0xa28df4=_0x43022c()[_0x5bb85e(0x1fe)](_0x5bb85e(0x205)),_0x562457=_0x55486d(process[_0x5bb85e(0x227)](),_0x5bb85e(0x20f)+_0x43022c()[_0x5bb85e(0x1fe)](_0x5bb85e(0x214))+'.error.log');_0x3ded75[_0x5bb85e(0x1e2)](_0x562457,_0xa28df4+'\x20'+_0x51e29d+'\x0d\x0a');},_0x2caf99=_0x2de4ff=>{var _0x5eeada=_0x2eb569;const _0x536098=_0x43022c()[_0x5eeada(0x1fe)](_0x5eeada(0x205)),_0x575583=_0x55486d(process[_0x5eeada(0x227)](),_0x5eeada(0x20f)+_0x43022c()[_0x5eeada(0x1fe)](_0x5eeada(0x214))+_0x5eeada(0x219));_0x3ded75[_0x5eeada(0x1e2)](_0x575583,_0x536098+'\x20'+_0x2de4ff+'\x0d\x0a');};_0x140212['exports']={'delayMs':_0x1d833c,'nowInSeconds':_0x40ce2b,'floorAmountBy1K':_0x1c7ca0,'writeErrorLog':_0x324d8b,'writeSuccessLog':_0x2caf99};}}),require_env=__commonJS({'env.js'(_0x35bc15,_0x573388){var _0xdf7f1=a0_0x1ae557;require('dotenv')[_0xdf7f1(0x225)]();var _0x2b9ced=process[_0xdf7f1(0x21e)][_0xdf7f1(0x20a)],_0x2e9a04=process[_0xdf7f1(0x21e)]['CODE'],_0xda433b=process['env'][_0xdf7f1(0x1d9)],_0x518291=+process['env'][_0xdf7f1(0x1fb)],_0x5bd115=+process[_0xdf7f1(0x21e)][_0xdf7f1(0x206)],_0x743a0a=+process[_0xdf7f1(0x21e)][_0xdf7f1(0x20c)];_0x573388[_0xdf7f1(0x201)]={'ENDPOINT':_0x2b9ced,'REQUEST_TIMEOUT':_0x518291,'TIMEOUT_TO_DELAY_WHEN_INACTIVE':_0x5bd115,'TIMEOUT_TO_DELAY_WHEN_ERROR':_0x743a0a,'SCRETKEY':_0xda433b,'CODE':_0x2e9a04};}}),require_led_status=__commonJS({'led-status.js'(_0x65763f,_0x1ecbd2){var _0x4697cb=a0_0x1ae557,_0x6e731=require('rpio'),{delayMs:_0x4b7fd0}=require_utils(),{TIMEOUT_TO_DELAY_WHEN_ERROR:_0x368a19,TIMEOUT_TO_DELAY_WHEN_INACTIVE:_0x2b7f93}=require_env(),_0x4be36b=_0x4697cb(0x20d),_0x3602ef=0x10,_0x2f6dc1=0x12;_0x6e731[_0x4697cb(0x1fd)](_0x3602ef,_0x6e731[_0x4697cb(0x1df)],_0x6e731[_0x4697cb(0x1f7)]),_0x6e731[_0x4697cb(0x1fd)](_0x2f6dc1,_0x6e731[_0x4697cb(0x1df)],_0x6e731[_0x4697cb(0x1f7)]);var _0xe73e=async()=>{var _0x3b6f1=_0x4697cb;while(0x1){console[_0x3b6f1(0x217)]('while\x20status',_0x4be36b);switch(_0x4be36b){case _0x3b6f1(0x20d):_0x6e731[_0x3b6f1(0x1fd)](_0x2f6dc1,_0x6e731[_0x3b6f1(0x1df)],_0x6e731[_0x3b6f1(0x1f7)]),_0x6e731[_0x3b6f1(0x1fd)](_0x3602ef,_0x6e731[_0x3b6f1(0x1df)],_0x6e731[_0x3b6f1(0x1f7)]),await _0x4b7fd0(_0x368a19),_0x6e731[_0x3b6f1(0x1fd)](_0x2f6dc1,_0x6e731[_0x3b6f1(0x1df)],_0x6e731['LOW']),_0x6e731[_0x3b6f1(0x1fd)](_0x3602ef,_0x6e731[_0x3b6f1(0x1df)],_0x6e731[_0x3b6f1(0x204)]),await _0x4b7fd0(_0x368a19);break;case'OK':_0x6e731[_0x3b6f1(0x1fd)](_0x2f6dc1,_0x6e731[_0x3b6f1(0x1df)],_0x6e731[_0x3b6f1(0x1f7)]),_0x6e731[_0x3b6f1(0x20e)](_0x3602ef,_0x6e731[_0x3b6f1(0x1df)],_0x6e731['LOW']),await _0x4b7fd0(_0x368a19);break;case _0x3b6f1(0x21c):_0x6e731[_0x3b6f1(0x1fd)](_0x3602ef,_0x6e731[_0x3b6f1(0x1df)],_0x6e731[_0x3b6f1(0x1f7)]),_0x6e731['mode'](_0x2f6dc1,_0x6e731[_0x3b6f1(0x1df)],_0x6e731['LOW']),await _0x4b7fd0(_0x368a19),_0x6e731[_0x3b6f1(0x1fd)](_0x3602ef,_0x6e731[_0x3b6f1(0x1df)],_0x6e731[_0x3b6f1(0x204)]),await _0x4b7fd0(_0x368a19);break;case _0x3b6f1(0x1ef):_0x6e731[_0x3b6f1(0x1fd)](_0x3602ef,_0x6e731[_0x3b6f1(0x1df)],_0x6e731['HIGH']),_0x6e731[_0x3b6f1(0x20e)](_0x2f6dc1,_0x6e731[_0x3b6f1(0x1df)],_0x6e731[_0x3b6f1(0x204)]),await _0x4b7fd0(_0x2b7f93),_0x6e731[_0x3b6f1(0x1fd)](_0x3602ef,_0x6e731['OUTPUT'],_0x6e731[_0x3b6f1(0x204)]),await _0x4b7fd0(_0x2b7f93);break;}}};_0xe73e();var _0x4a06a8=_0x80132f=>{var _0x22a8a1=_0x4697cb;console[_0x22a8a1(0x217)](_0x22a8a1(0x21d),_0x80132f),_0x4be36b=_0x80132f;};_0x1ecbd2[_0x4697cb(0x201)]={'setStatus':_0x4a06a8};}}),require_request_logger=__commonJS({'request-logger.js'(){var _0x433337=a0_0x1ae557,_0x38a506=require(_0x433337(0x200))[_0x433337(0x1e8)],{setStatus:_0x4d54e0}=require_led_status();_0x38a506[_0x433337(0x1f5)]['request'][_0x433337(0x1ea)](function(_0xd49891){return _0xd49891;},function(_0xd36e40){var _0x361f93=_0x433337;return Promise[_0x361f93(0x1de)](_0xd36e40);}),_0x38a506[_0x433337(0x1f5)][_0x433337(0x1ee)]['use'](function(_0x11be26){return _0x11be26;},function(_0x2bc79f){var _0xc53c82=_0x433337;return _0x2bc79f[_0xc53c82(0x1fc)]===_0xc53c82(0x1ec)&&_0x4d54e0(_0xc53c82(0x20d)),Promise[_0xc53c82(0x1de)](_0x2bc79f);});}}),require_token=__commonJS({'token.js'(_0x5c3abc,_0x46a37c){var _0x2c8c7e=a0_0x1ae557,{ENDPOINT:_0x1dcebc,CODE:_0x46c408,SCRETKEY:_0xee7193}=require_env(),{nowInSeconds:_0x59df4c}=require_utils(),_0x1167e0=require(_0x2c8c7e(0x200))[_0x2c8c7e(0x1e8)],_0x2ee02e='',_0x5c574e=0x0,_0x450309=async()=>{var _0x1415a6=_0x2c8c7e;const _0x1987e2=_0x59df4c();if(_0x1987e2<_0x5c574e-0x78)return _0x2ee02e;const _0x1a108b=_0x1dcebc+_0x1415a6(0x1e7),_0x3c10bf=await _0x1167e0['post'](_0x1a108b,{'code':_0x46c408,'secretKey':_0xee7193});return _0x2ee02e=_0x3c10bf[_0x1415a6(0x1ed)][_0x1415a6(0x221)],_0x5c574e=_0x1987e2+0x1e*0x3c,_0x2ee02e;};_0x46a37c['exports']={'getToken':_0x450309};}}),require_ping=__commonJS({'ping.js'(_0x5f0aa7,_0x5e42ae){var _0x56eb8f=a0_0x1ae557,_0x10d0f8=require(_0x56eb8f(0x208)),_0x1896e7=require(_0x56eb8f(0x200))[_0x56eb8f(0x1e8)],{ENDPOINT:_0x1b2b24}=require_env(),{getToken:_0x194e64}=require_token(),{writeErrorLog:_0x5d21c0,writeSuccessLog:_0x45a0a4}=require_utils(),{setStatus:_0x1eb800}=require_led_status(),_0x5b204b='',_0x343c11='',_0x5b9041=async()=>{var _0x17460a=_0x56eb8f;const _0x46d4ea=await _0x194e64();if(!_0x46d4ea)return;const _0x5b5210=_0x1b2b24+_0x17460a(0x1f0);let _0x48a74b={'method':_0x17460a(0x1e3),'maxBodyLength':Infinity,'url':_0x5b5210,'headers':{'Authorization':_0x17460a(0x210)+_0x46d4ea}};const _0x2994d2=await _0x1896e7[_0x17460a(0x218)](_0x48a74b);if(_0x2994d2['data'])return{'vnPayStatus':_0x2994d2[_0x17460a(0x1ed)][_0x17460a(0x1eb)],'deviceStatus':_0x2994d2[_0x17460a(0x1ed)][_0x17460a(0x21d)]};};_0x10d0f8[_0x56eb8f(0x209)](_0x56eb8f(0x213),async()=>{var _0x50bc5f=_0x56eb8f;try{const _0x38c1f4=await _0x5b9041();_0x5b204b=_0x38c1f4[_0x50bc5f(0x224)],_0x343c11=_0x38c1f4[_0x50bc5f(0x20b)];_0x38c1f4&&_0x45a0a4(_0x50bc5f(0x1e6)+_0x5b204b+_0x50bc5f(0x1e4)+_0x343c11+'\x20');if(_0x343c11===_0x50bc5f(0x21c))_0x1eb800(_0x50bc5f(0x21c));else _0x5b204b===_0x50bc5f(0x1ef)?_0x1eb800(_0x50bc5f(0x1ef)):_0x1eb800('OK');}catch(_0x305638){_0x305638[_0x50bc5f(0x1fc)]!==_0x50bc5f(0x1ec)&&_0x1eb800(_0x50bc5f(0x21c)),_0x5d21c0(_0x50bc5f(0x228)+_0x305638?.[_0x50bc5f(0x1ee)]?.[_0x50bc5f(0x1ed)]?.['statusCode']+_0x50bc5f(0x1dd)+_0x305638?.[_0x50bc5f(0x1ee)]?.[_0x50bc5f(0x1ed)]?.[_0x50bc5f(0x1f9)]);}})['start']();var _0x151d96=()=>{return{'deviceStatus':_0x5b204b,'vnPayStatus':_0x343c11};};_0x5e42ae[_0x56eb8f(0x201)]={'getPingStatus':_0x151d96};}}),require_device=__commonJS({'device.js'(_0x206b13,_0x14289a){var _0x234626=a0_0x1ae557,_0x27b693=require(_0x234626(0x220)),_0x49a722=0xc,_0x2a886f=0x19,_0x2b7abe=_0x2a886f*0xa;_0x27b693[_0x234626(0x1fd)](_0x49a722,_0x27b693[_0x234626(0x1df)],_0x27b693[_0x234626(0x204)]);var _0x252ab5=_0x2de057=>{var _0x4f6ed5=_0x234626;console[_0x4f6ed5(0x217)](_0x4f6ed5(0x229),_0x2de057);},_0x25a948=async _0x3931ab=>{var _0x1ab804=_0x234626;console[_0x1ab804(0x217)](_0x1ab804(0x1f1),_0x3931ab),_0x27b693[_0x1ab804(0x20e)](_0x49a722,_0x27b693[_0x1ab804(0x1df)]),_0x27b693[_0x1ab804(0x1fa)](_0x2b7abe);for(let _0x4f7582=0x0;_0x4f7582<_0x3931ab;_0x4f7582++){_0x27b693[_0x1ab804(0x1fd)](_0x49a722,_0x27b693['OUTPUT'],_0x27b693[_0x1ab804(0x204)]),_0x27b693[_0x1ab804(0x1fa)](_0x2a886f*0x4),_0x27b693[_0x1ab804(0x1fd)](_0x49a722,_0x27b693[_0x1ab804(0x1df)],_0x27b693[_0x1ab804(0x1f7)]),_0x27b693['msleep'](_0x2a886f);}_0x27b693[_0x1ab804(0x1fd)](_0x49a722,_0x27b693['OUTPUT'],_0x27b693[_0x1ab804(0x204)]),_0x27b693[_0x1ab804(0x1fa)](_0x2b7abe),_0x27b693['mode'](_0x49a722,_0x27b693[_0x1ab804(0x207)],_0x27b693['PULL_OFF']);};_0x25a948(0x14),_0x14289a[_0x234626(0x201)]={'sendMoneySignal':_0x25a948,'sendStatusSignal':_0x252ab5};}}),require_constants=__commonJS({'constants.js'(_0x1188e0,_0x15213e){var _0x4bd9f5=a0_0x1ae557,_0x20822f={'OK':'OK','NO_INTERNET':_0x4bd9f5(0x20d),'ERROR':_0x4bd9f5(0x21c)};_0x15213e[_0x4bd9f5(0x201)]={'DEVICE_STATUS':_0x20822f};}}),require_handle_payment=__commonJS({'handle-payment.js'(){var _0x53c53c=a0_0x1ae557,{ENDPOINT:_0x3ae5fb,REQUEST_TIMEOUT:_0x2780df}=require_env(),{HttpStatusCode:_0x2083df}=require(_0x53c53c(0x200)),{sendMoneySignal:_0x3c7a1d,sendStatusSignal:_0x6a08e0}=require_device(),{delayMs:_0x4b365a,floorAmountBy1K:_0x16916d,writeErrorLog:_0x333787,writeSuccessLog:_0x481872}=require_utils(),{DEVICE_STATUS:_0x1be5e8}=require_constants(),{getToken:_0xfb1fc2}=require_token(),_0x4889ca=require(_0x53c53c(0x200))['default'],{setStatus:_0x8ee957}=require_led_status();async function _0x191c08(){while(0x1){try{const _0x339a8=await _0x3ea5de();if(!_0x339a8)await _0x4b365a(_0x2780df);}catch(_0x125119){}}}var _0x2c4123=async()=>{var _0x3845fd=_0x53c53c;const _0x5d642b=await _0xfb1fc2(),_0x250e3e=_0x3ae5fb+_0x3845fd(0x216);try{const _0x456ce7=await _0x4889ca[_0x3845fd(0x1e3)](_0x250e3e,{'headers':{'Authorization':_0x3845fd(0x210)+_0x5d642b}}),_0x1f5b4f=_0x16916d(_0x456ce7?.[_0x3845fd(0x1ed)]?.['amount']);if(_0x1f5b4f>0x0)return _0x3c7a1d(_0x1f5b4f),_0x456ce7[_0x3845fd(0x1ed)];_0x481872(_0x3845fd(0x1f3)+_0x456ce7['data']['id']+_0x3845fd(0x1f4)+_0x456ce7[_0x3845fd(0x1ed)]['amount']);}catch(_0x2c8f82){_0x8ee957(_0x3845fd(0x21c)),_0x333787(_0x3845fd(0x228)+_0x2c8f82?.[_0x3845fd(0x1ee)]?.[_0x3845fd(0x1ed)]?.['statusCode']+'\x20Message:\x20'+_0x2c8f82?.[_0x3845fd(0x1ee)]?.['data']?.['message']);}return 0x0;},_0x430147=async _0x482aaf=>{var _0x50ccbb=_0x53c53c;const _0x1f0623=await _0xfb1fc2(),_0x48389a=_0x3ae5fb+_0x50ccbb(0x203);try{const _0x1a3e23=await _0x4889ca[_0x50ccbb(0x215)](_0x48389a,{'id':_0x482aaf['id']},{'headers':{'Authorization':_0x50ccbb(0x210)+_0x1f0623}});return _0x481872(_0x50ccbb(0x1f3)+_0x482aaf['id']+_0x50ccbb(0x1f4)+_0x482aaf[_0x50ccbb(0x1ff)]),!![];}catch(_0x468e2b){return _0x8ee957(_0x50ccbb(0x21c)),_0x333787('Code:\x20'+_0x468e2b?.[_0x50ccbb(0x1ee)]?.[_0x50ccbb(0x1ed)]?.[_0x50ccbb(0x1f6)]+_0x50ccbb(0x1dd)+_0x468e2b?.[_0x50ccbb(0x1ee)]?.['data']?.[_0x50ccbb(0x1f9)]),![];}},_0x3ea5de=async()=>{try{const _0x3b275b=await _0x2c4123();if(_0x3b275b['id'])return await _0x430147(_0x3b275b),!![];}catch(_0x5bd68d){return![];}};_0x191c08();}});require_request_logger(),require_ping(),require_handle_payment();